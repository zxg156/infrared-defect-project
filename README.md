# infrared-defect
请用Vue.js最新版本和Vite开发一个web系统，详细要求如下。
一,用户需求
本系统是一个设备缺陷分析系统，主要功能包括设备选择、温度数据输入、缺陷分析结果展示以及测量履历管理，具体需求如下：
1. 设备选择：提供多种设备选项供用户选择。
2. 温度数据输入：用户输入环境温度（T0）、发热点温度（T1）和正常点温度（T2）。
3. 缺陷分析：根据输入的温度数据计算 δ 值，并依据设备类型和 δ 值判断缺陷等级。
4. 结果展示：以表格形式展示分析结果，包括所选设备、δ 值、缺陷等级和日期时间，不同缺陷等级用不同颜色区分。
5. 测量履历管理：
记录每次测量的日期和时间、温度数值、δ 值和缺陷等级。
履历按设备分表显示，且每个设备的履历按时间倒序排列。
履历部分可折叠，用户可选择展开或收起。
二，页面设计
(1).整体布局
1.标题栏：显示系统名称 “设备缺陷分析系统”。
2.设备选择区：提供设备列表，用户可选择要分析的设备。
3.温度输入区：输入 T0、T1、T2 温度值，有返回和计算按钮。
4.结果展示区：以表格形式展示分析结果，包括所选设备、δ 值、缺陷等级和日期时间。
5.测量履历区：初始状态下有一个 “展开测量履历” 按钮，点击后展开履历表格，按设备分表显示，每个表格有标题显示设备名称。
(2).交互设计
1.设备选择：点击设备选项，进入温度输入页面。
设备选项有电器设备与金属部件的连接接头和线夹，金属部件与金属部件的连接接头和线夹，金属导线接头和线夹，隔离开关转头，隔离开关刀口，断路器动静触头，断路器动静触头中间触头，套管柱头，电容器熔丝等9项。
2.温度输入：输入有效温度值后点击 “计算”，进行结果计算并显示结果；点击 “返回” 回到设备选择页面。
计算公式为 δ=（T1-T2）/（T1-T0）×100%
3.缺陷分析：根据计算结果，分析缺陷状态。以下是缺陷分析表
设备类别与部位	一般缺陷	严重缺陷（一级）	严重缺陷（二级）
电器设备与金属部件的连接接头和线夹	δ ≥ 35%	80% ≥ δ ≥ 35%	δ ≥ 95% 且热点温度 > 80℃
金属部件与金属部件的连接接头和线夹	δ ≥ 35%	80% ≥ δ ≥ 35%	δ ≥ 95% 且热点温度 > 90℃
金属导线接头和线夹	δ ≥ 35%	80% ≥ δ ≥ 35%	δ ≥ 95% 且热点温度 > 90℃
隔离开关转头	δ ≥ 35%	80% ≥ δ ≥ 35%	δ ≥ 95% 且热点温度 > 90℃
隔离开关刀口	δ ≥ 35%	80% ≥ δ ≥ 35%	δ ≥ 95% 且热点温度 > 90℃
断路器动静触头	δ ≥ 35%	80% ≥ δ ≥ 35%	δ ≥ 95% 且热点温度 > 55℃
断路器动静触头中间触头	δ ≥ 35%	80% ≥ δ ≥ 35%	δ ≥ 95% 且热点温度 > 55℃
套管柱头	δ ≥ 35%	80% ≥ δ ≥ 35%	δ ≥ 95% 且热点温度 > 55℃
电容器熔丝	δ ≥ 35%	80% ≥ δ ≥ 35%	δ ≥ 95% 且热点温度 > 55℃
![image](https://github.com/user-attachments/assets/27c619bb-de96-4c6f-830a-714f69604763)

4.结果展示：显示分析结果，点击 “再次分析” 回到设备选择页面。
5.测量履历：点击 “展开测量履历” 按钮，显示按设备分组的履历表格；点击 “收起测量履历” 按钮，隐藏履历表格。
(3).视觉设计
1.颜色区分：不同缺陷等级用不同颜色背景区分，一般缺陷用黄色，严重一级用橙色，二级用红色。
2.表格样式：表头和表格内容有基本的边框和内边距，表头有特定背景颜色。
三,代码结构
(1).组件结构
DefectAnalysisPage.vue：主页面组件，负责整体流程控制和数据管理，包括设备选择、温度输入、结果展示和履历显示。
DeviceSelection.vue：设备选择组件，提供设备列表供用户选择。
TemperatureInput.vue：温度输入组件，用于输入 T0、T1、T2 温度值，并处理输入验证和计算触发。
ResultDisplay.vue：结果展示组件，以表格形式展示分析结果。
(2).数据流向
1. 用户在 DeviceSelection.vue 中选择设备，触发 selectDevice 方法，更新 selectedDevice 状态，进入 TemperatureInput.vue。
2. 在 TemperatureInput.vue 中输入温度值，点击 “计算” 按钮，触发 calculateDelta 方法，计算 δ 值和缺陷等级，更新相关状态，进入 ResultDisplay.vue。
3. ResultDisplay.vue 从父组件获取分析结果数据并展示，点击 “再次分析” 按钮，触发 reset 方法，重置所有状态，回到 DeviceSelection.vue。
4. 每次计算完成后，将测量数据添加到 measurementHistory 数组中，在 DefectAnalysisPage.vue 中对履历数据进行分组和排序，按设备分表显示。
(3).关键方法
selectDevice：处理设备选择事件，更新 selectedDevice 状态，进入温度输入页面。
calculateDelta：根据输入的温度值计算 δ 值，判断缺陷等级，更新相关状态，并将测量数据添加到履历数组中。
determineDefect：根据设备类型和 δ 值判断缺陷等级。
toggleHistory：切换测量履历的展开和收起状态。
![image](https://github.com/user-attachments/assets/4bed656b-0120-4c78-9b1c-301b0427de1e)
